import{c as j,e as W,f as q,g as z,i as G,j as J,k as K,n as Q}from"./chunk-73C5NRFF.mjs";import{a as F}from"./chunk-PMZVCGA3.mjs";import{C as Y,D,e as A,g as b,h as s,k as h,l,s as O,z as r}from"./chunk-27T3OKES.mjs";var i;(function(t){t.Fill="fill",t.Contain="contain",t.Cover="cover",t.None="none",t.ScaleDown="scale-down"})(i||(i={}));var o;(function(t){t.Video="Upload",t.Url="URL"})(o||(o={}));function ye(t){let{width:a,height:u,topLeft:d,topRight:c,bottomRight:p,bottomLeft:P,id:m,children:U,...T}=t;return T}function L(t){let a=ye(t);return F(ve,{...a})}var X=!1,ve=A(function(a){let{srcType:u,srcFile:d,srcUrl:c,playing:p,canvasPlay:P,muted:m,playsinline:U,controls:T,progress:Z,objectFit:$,backgroundColor:ee,radius:ge,topLeft:be,topRight:he,bottomRight:Pe,bottomLeft:Te,isMixed:Ce,onSeeked:C,onPause:E,onPlay:R,onEnd:S,onClick:te,onMouseEnter:re,onMouseLeave:ne,onMouseDown:oe,onMouseUp:ie,poster:ae,restartOnEnter:Ee,posterEnabled:se,startTime:V,volume:N,loop:_}=a,le=D(),e=l(),ue=z(),f=l(!1),M=l(null),I=l(null),y=G(),de=J(a),H=V===100?99.9:V,x=!y||P,k=h(()=>p,[]),ce=h(()=>y?!0:m,[y,m]),v=b(n=>{if(!e.current)return;let w=(n===1?.999:n)*e.current.duration,fe=Math.abs(e.current.currentTime-w)<.1;e.current.duration>0&&!fe&&(e.current.currentTime=w)},[]),g=b(()=>{!(e.current.currentTime>0&&e.current.onplaying&&!e.current.paused&&!e.current.ended&&e.current.readyState>e.current.HAVE_CURRENT_DATA)&&e.current&&!f.current&&le&&(f.current=!0,e.current.play().catch(w=>{}).finally(()=>f.current=!1))},[]),B=b(()=>{!e.current||f.current||e.current.pause()},[]);s(()=>{p&&x?g():B()},[p,P]),s(()=>{X?v(H*.01):X=!0},[V,d,c]);let pe=Q(Z,{transform:n=>n*.01,onChange:n=>{v(n)}});O(pe,"change",n=>{y||v(n)}),W(()=>{M.current!==null&&e.current&&(!I&&_||!M.current)&&g()}),q(()=>{e.current&&(I.current=e.current.ended,M.current=e.current.paused,B())});let me=h(()=>{if(u===o.Url)return c;if(u===o.Video)return d},[u,d,c]);return s(()=>{ue&&e.current&&k&&setTimeout(()=>g(),50)},[]),s(()=>{e.current&&!m&&(e.current.volume=N/100)},[N]),F("video",{onClick:te,onMouseEnter:re,onMouseLeave:ne,onMouseDown:oe,onMouseUp:ie,src:me,loop:_,ref:e,onSeeked:n=>C?.(n),onPause:n=>E?.(n),onPlay:n=>R?.(n),onEnded:n=>S?.(n),autoPlay:k&&x,poster:se?ae:void 0,onLoadedData:()=>{e.current&&e.current.currentTime<.3&&v(H*.01),x&&e.current&&k&&g()},controls:T,muted:ce,playsInline:U,style:{width:"100%",height:"100%",borderRadius:de,display:"block",objectFit:$,backgroundColor:ee,objectPosition:"50% 50%"}})});L.displayName="Video";L.defaultProps={srcType:o.Url,srcUrl:"https://assets.mixkit.co/videos/preview/mixkit-ice-cream-glass-of-red-soda-5094-small.mp4",srcFile:"",posterEnabled:!1,controls:!1,autoPlay:!0,canvasPlay:!1,loop:!0,muted:!0,playsinline:!0,restartOnEnter:!1,objectFit:i.Cover,backgroundColor:"rgba(0,0,0,0)",radius:0,volume:25,startTime:0};Y(L,{srcType:{type:r.Enum,displaySegmentedControl:!0,title:"Source",options:[o.Url,o.Video]},srcUrl:{type:r.String,title:" ",placeholder:"../example.mp4",hidden(t){return t.srcType===o.Video},description:"Hosted video file URL. For Youtube, use the Youtube component."},srcFile:{type:r.File,title:" ",allowedFileTypes:["mp4"],hidden(t){return t.srcType===o.Url}},playing:{type:r.Boolean,title:"Playing",enabledTitle:"Yes",disabledTitle:"No"},posterEnabled:{type:r.Boolean,title:"Poster",enabledTitle:"Yes",disabledTitle:"No"},poster:{type:r.Image,title:" ",hidden:({posterEnabled:t})=>!t},backgroundColor:{type:r.Color,title:"Background"},...K,startTime:{title:"Start Time",type:r.Number,min:0,max:100,step:.1,unit:"%"},loop:{type:r.Boolean,title:"Loop",enabledTitle:"Yes",disabledTitle:"No"},objectFit:{type:r.Enum,title:"Fit",options:[i.Cover,i.Fill,i.Contain,i.ScaleDown,i.None]},canvasPlay:{type:r.Boolean,title:"On Canvas",enabledTitle:"Play",disabledTitle:"Pause",hidden(t){return t.autoPlay===!1}},controls:{type:r.Boolean,title:"Controls",enabledTitle:"Show",disabledTitle:"Hide"},muted:{type:r.Boolean,title:"Muted",enabledTitle:"Yes",disabledTitle:"No"},volume:{type:r.Number,max:100,min:0,unit:"%",hidden:({muted:t})=>t},onEnd:{type:r.EventHandler},onSeeked:{type:r.EventHandler},onPause:{type:r.EventHandler},onPlay:{type:r.EventHandler},...j});export{L as a};
//# sourceMappingURL=chunk-YX5DV3KR.mjs.map
